<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>МАК-Карты | Ответ внутри тебя</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.webmanifest">
</head>
<body>
    <div class="container">
        <!-- Главный экран -->
        <div class="screen" id="home">
            <header>
                <h1>МАК-Карты</h1>
                <p>Ответ внутри тебя</p>
            </header>
            <div class="layout-buttons">
                <button onclick="startLayout('actual')">Актуальный вопрос</button>
                <button onclick="startLayout('relations')">Отношения</button>
                <button onclick="startLayout('money1')">Деньги: Качества</button>
                <button onclick="startLayout('money2')">Деньги: Взгляд со стороны</button>
                <button onclick="startLayout('simple')">Простой расклад</button>
            </div>
        </div>

        <!-- Экран расклада -->
        <div class="screen" id="cards-screen" style="display: none;">
            <div id="cards-container">
                <!-- Анимация колоды и карты будут вставлены сюда -->
            </div>
        </div>

        <!-- Экран интерпретации -->
        <div class="screen" id="interpretation-screen" style="display: none;">
            <header>
                <h2>Как трактовать карту?</h2>
            </header>
            <p>Каждая карта — это повод заглянуть внутрь себя. Зафиксируйте мысли, проговорите их вслух или запишите.</p>
            <ul>
                <li>Что на карте больше всего привлекло мое внимание?</li>
                <li>Что я чувствую, глядя на карту?</li>
                <li>Какие эмоции у меня возникают?</li>
                <li>Как чувствует себя персонаж на картинке?</li>
                <li>Что персонаж будет делать дальше? Как я к этому отношусь?</li>
                <li>Вижу ли я на карте себя? В какой роли я здесь?</li>
                <li>Есть ли на карте то, что осталось незамеченным? Почему?</li>
                <li>Как то, что изображено на карте, говорит мне о моем запросе?</li>
            </ul>
            <p class="warning">⚠️ Расклад не сохраняется. Сделайте скриншот!</p>
            <div class="share-actions">
                <button id="copy-link" type="button">Скопировать ссылку</button>
                <button id="send-result" type="button">Отправить результат</button>
            </div>
            <a href="https://t.me/Netele_Zu" target="_blank">
                <button>Записаться на консультацию</button>
            </a>
            <div class="footer-actions">
                <button id="back-to-home" type="button">На главную</button>
            </div>
        </div>
    </div>

    <!-- Модал для просмотра карты -->
    <div id="image-modal" class="modal" style="display: none;" aria-hidden="true" role="dialog" aria-label="Просмотр карты" onclick="closeImageModal()">
        <div class="modal-content">
            <img id="modal-image" alt="Просмотр карты" />
        </div>
    </div>

    <!-- Онбординг -->
    <div id="onboarding-overlay" class="onboarding" style="display: none;" aria-hidden="true" role="dialog" aria-label="Подсказка">
        <div class="onboarding-content">
            <p>Сформулируйте запрос и по очереди открывайте карты. Нажмите на карту, чтобы увеличить.</p>
            <button type="button" onclick="dismissOnboarding()">Понятно</button>
        </div>
    </div>

    <!-- Скрипты -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('sw.js').catch(function(){});
            });
        }
    </script>
    <script src="script.js"></script>
</body>
</html>